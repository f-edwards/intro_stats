---
title: "Stats camp day 2"
author: "Frank Edwards"
date: "8/29/2019"
output: binb::metropolis
---

# Welcome back: math time!

## Agenda today

1. Math notation and concepts
2. Functions, limits, algebra
3. Linear algebra
4. Calculus

# Notation and concepts

## Real numbers and integers

**Real numbers (doubles)**

- Any continuous number
- E.g. 4, 4.189, 2/3, $\pi$
- In programming, we often use the variable type double for real numbers

**Integers**

- Any whole number
- 10, -10, 24, 87
- In programming, we may use the integer variable type

## Variables

- May take on any value
- May be explicitly defined as a type in programming
- Represented by letters, generally $x, y, z$

# Exponents and logarithms

## Exponents

$a^n$ Is a multiplied by itself n times

- $2^3 = 2 \times 2 \times2 = 8$
- $5^4 = 5 \times 5 \times 5 \times 5 = 625$

In R, we can calculate exponents using the ^

```{r}
2^3
5^4
```

## Some rules of exponents

$$x^1 = x$$
$$x^0 = 1$$
$$x^k + x^l = x^{k+l}$$
$$(x^k)^l = x^{kl}$$
$$(xy)^k = x^k \cdot y^k$$
$$ \left( \frac{x}{y} \right) ^k = \left( \frac{x^k}{y^k} \right) $$
$$\frac{x^k}{x^l} = x$$
$$x^{1/k} = \sqrt[k]{x}$$
$$x^{-k} = \frac{1}{x^k}$$

## Logarithms

A logarithm is the power $x$ required to raise a base $c$ to a given number $a$.

$$\log_c(a) = x$$
$$c^x = a$$
$$3^2=9$$
$$\log_3(9) = 2$$

## Common logarithms

The most common log bases are 2, 10, and $e = 2.718$. Log with base $e$ is called a natural log $ln$. The R function log() has a default base $e$, also called a natural log (ln). We use log base e to model many exponential growth processes.

$$10^2=100$$
$$\log_{10}(100)=2$$
$$e^2 = 7.389056$$
$$\log_e(7.389056) = 2 $$

## Logarithm rules

$$\log(x \cdot y) = \log(x) + \log(y)$$
$$log(x^n)  = n \log(x)$$
$$\log\left(\frac{x}{y}\right) = \log(x) - \log(y)$$

## Summation

Represented as $\sum$, with integer begin and end points 

$$\sum_{k=1}^3 2(k+2) = 2(1 + 2) + 2(2+2) + 2(3+2) = 24$$

In R, we can calculate a sum using the sum() function

```{r}
k<-1:3
sum(2*(k+2))
```

## Products

Represetened as $\prod$, with integer begin and end points 

$$\prod_{k=1}^3 k^2 = 1^2 \times 2^2 \times 3^2 = 36 $$
In R, we can calculate a product using the prod() function

```{r}
k<-1:3
prod(k^2)
```

# Coordinates and lines

## The coordinate plane

```{r echo = FALSE, message = FALSE, fig.width = 4, fig.height = 2.5}
library(ggplot2)
ggplot() + 
  geom_point() + 
  xlim(-10,10) + 
  ylim(-10,10) +
  ylab("y") + 
  xlab("x") + 
  geom_hline(yintercept = 0) + 
  geom_vline(xintercept = 0) + 
  theme_bw()
```

## Plotting points

For coordinate pairs $(x_1,y_1), (x_2, y_2), (x_3, y_3)$, we can plot each point along an x and y axis.

**Example:**  $(0,-2), (4,3), -6, 8)$

```{r echo = FALSE, message = FALSE, fig.height = 2.5, fig.width = 4}
dat<-data.frame("x" = c(0, 4, -6), "y" = c(-2, 3, 8))
ggplot(dat, aes(x = x, y = y)) + 
  geom_point() + 
  xlim(-10,10) + 
  ylim(-10,10) +
  ylab("y") + 
  xlab("x") + 
  geom_hline(yintercept = 0) + 
  geom_vline(xintercept = 0) + 
  theme_bw()
  
```

## Lines

The typical equation for a line is $y = mx + b$ where m is the slope and by is the y-intercept.

You will often see a line expressed as a regression equation: 

$$y = \beta_0 + \beta_1x$$ 

where $\beta_0$ is the y-intercept and $\beta_1$ is the slope.

## The slope

Slope measures the steepness of a line. A line with a positive slope has increasing values of y as x increases. A line with a negative slope has decreasing values of y for increasing values of x. 

We can calculate the slope with two coordinates on the line $(x_1, y_1), (x_2, y_2)$

The slope is the ratio of the difference in y values to the difference in x values.

$$ m = \frac{y_2-y_1}{x_2-x_1}$$

## The y-intercept

The y-intercept is the value of y when x = 0. If we have the value of one point on the line, and the slope, we can obtain the y-intercept

$$ b = y_1 - m \cdot x_1$$

## Example

Given the points $(1,3)$ and $(4,6)$ , the slope is $m = \frac{6-3}{4-1} = 1$ and the y-intercept is $b = 3 - 1 \cdot 1 = 2$. The equation of the line is $y= 1x + 5$

```{r echo = FALSE, fig.height = 2.5, fig.width = 4}
dat<-data.frame(x = c(4, 1), y = c(6,3))
ggplot(dat) + 
  geom_abline(intercept = 2, slope = 1, lty = 2) +
  geom_point(aes(x = x, y = y)) +
  xlim(-10,10) + 
  ylim(-10,10) + 
  ylab("y") + 
  xlab("x") + 
  geom_hline(yintercept = 0) + 
  geom_vline(xintercept = 0) + 
  theme_bw()
  
```

# Functions

## Functions, in general

A function maps each element in a set X to an element in set Y

- Linear function: $f(x) = x + 5$
- Quadratic function: $f(x) = x^2 + 2x + 3$
- Exponential function: $f(x) = e^{2x} + 6$

## Graphical forms of these functions: linear

$f(x) = x + 5$

```{r echo = FALSE, fig.height = 2.5, fig.width = 4}
dat<-data.frame(x = c(4, 1), y = c(6,3))
ggplot(dat) + 
  geom_abline(intercept = 2, slope = 1, lty = 2) +
  geom_point(aes(x = x, y = y)) +
  xlim(-10,10) + 
  ylim(-10,10) + 
  ylab("y") + 
  xlab("x") + 
  geom_hline(yintercept = 0) + 
  geom_vline(xintercept = 0) + 
  theme_bw()
  
```

## Graphical forms of these functions: quadratic

$f(x) = x^2 + 2x + 3$

```{r echo = FALSE}
quad<-function(x){x^2 + 2*x + 3}
ggplot(data.frame(x = c(-10,10)), aes(x=x)) + 
  stat_function(fun = quad)
```

## Graphical forms of these function: exponential

$f(x) = e^{2x} + 6$

```{r echo = FALSE}
exp_fun<-function(x){exp(2*x) + 6}
ggplot(data.frame(x = c(0,4)), aes(x=x)) + 
  stat_function(fun = exp_fun)
```

# Problem set 1

# Break

# Matrices

## What is a matrix?

```{r echo = FALSE}
head(USArrests)
```

## What is a matrix?

A matrix is a rectangular array of numbers, with dimensions expressed as rows $\times$ columns

$$\mathbf{A} = \left[\begin{array}
{rrr}
1 & 2 & 3 \\
4 & 5 & 6 \\
7 & 8 & 9
\end{array}\right]
$$

$$\mathbf{B} = \left[\begin{array}
{rrr}
1 & 2 & 3 \\
4 & 5 & 6 \\
\end{array}\right]
$$

$$\mathbf{C} = \left[\begin{array}
{rr}
1 & 2 \\
3 & 4 \\
5 & 6
\end{array}\right]
$$

So A is a  $3 \times 3$  matrix, B is a $3 \times 2$ matrix, and C is a $2 \times 3$ matrix.

## Matrix notation

We can identify each element of a matrix with its column and row position, where $x_{ij}$ refers to the value in the $i$th row and $j$th column of matrix X. Note that we use uppercase letters for a matrix, and lowercase letters for elements of a matrix.

$$\mathbf{X} = \left[\begin{array}
{rrr}
x_{11} & x_{12} & x_{13} \\
x_{21} & x_{22} & x_{23} \\
\end{array}\right]
$$

## Vectors

Vectors are one-dimensional arrays of values. Either an n-row column or an n-column row:

$$\left[\begin{array}
{rrrr}
1 & 2 & 3 & 4
\end{array}\right]
$$

OR 

$$\left[\begin{array}
{r}
1 \\
2\\
3\\
4\\
\end{array}\right]
$$

## Special matrices

A diagonal matrix has zero values except on the diagonal:

$$\left[\begin{array}
{rrr}
1 & 0 & 0 \\
0 & 5 & 0 \\
0 & 0 & 9
\end{array}\right]
$$

An identity matrix is a special case of a diagonal matrix, where all values on the diagonal are equal to 1

$$\left[\begin{array}
{rrr}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1
\end{array}\right]
$$

These matrices are also symmetric, where all $x_{ij} = x_{ji}$. Symmetric matrices must be square.

# Matrix operations

## Matrix transpose

A transpose interchanges the rows and columns of a matrix, or rotates it. The dimensions are switched, so an $n \times k$ matrix becomes a $k \times n$ matrix. We denote a transpose with a $T$

$$\mathbf{B} = \left[\begin{array}
{rrr}
1 & 2 & 3 \\
4 & 5 & 6 \\
\end{array}\right]
\mathbf{B^T} = \left[\begin{array}
{rr}
1 & 4 \\
2 & 5 \\
3 & 6 \\
\end{array}\right]
$$

## Addition and subtraction

Two matrices (or vectors) can be added or subtracted only if they have identical dimensions. Then add or substract the correspoding elements of the matrices.

$$\left[\begin{array}
{rrr}
1 & 2 \\
3 & 4 \\
\end{array}\right] + \left[\begin{array}
{rrr}
5 & 6 \\
7 & 8 \\
\end{array}\right] =
\left[\begin{array}
{rrr}
1 + 5 & 2 + 6 \\
3 + 7 & 4 + 8 \\
\end{array}\right]$$

## Multplication by scalar

Matrices and vectors can be multiplied by constant values (called scalars).

$$\mathbf{B} = \left[\begin{array}
{rrr}
1 & 2 & 3 \\
4 & 5 & 6 \\
\end{array}\right]
4\mathbf{B} = \left[\begin{array}
{rrr}
4 & 8 & 12 \\
16 & 20 & 24 \\
\end{array}\right] $$

$$\mathbf{C} = \left[\begin{array}
{r}
1 \\
2\\
3\\
4\\
\end{array}\right]
3\mathbf{C} = \left[\begin{array}
{r}
3 \\
6\\
9\\
12\\
\end{array}\right]
$$

## Matrix multiplication

Two matrices can be multiplied only if the numbers of columns in the first matrix is equal to the number of rows of the second matrix. The resulting matrix has a number of rows of the first matrix and a number of columns of the second matrix.

$$\mathbf{A} = \left[\begin{array}
{rrr}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23} \\
\end{array}\right]
\mathbf{B} = \left[\begin{array}
{rr}
b_{11} & b_{12} \\
b_{21} & b_{22} \\
b_{31} & b_{32} \\
\end{array}\right]
$$
We find each element (ab_{ij}) by summing the cross product of the $i$th row of $A$ and the $j$th column of $B$.

$$A \cdot B = \left[\begin{array}{rr} a_{11} \cdot b_{11} + a_{12} \cdot b_{21} + a_{13} \cdot b_{31} & a_{11} \cdot b_{12} + a_{12} \cdot b_{22} + a_{13} \cdot b_{32}\\
a_{21} \cdot b_{11} + a_{22} \cdot b_{21} + a_{23} \cdot b_{31} & a_{21} \cdot b_{12} + a_{22} \cdot b_{22} + a_{23} \cdot b_{32}\\
\end{array}\right]$$

# Break

## Acknowledgments

These slides borrow heavily from Laina Mercer's math camp slides for University of Washington CSSS doctoral students. That course is available here: https://www.csss.washington.edu/academics/math-camp/lectures